# Production Environment Configuration
# Copy this file to .env for deployment

# Application Settings
APP_ENV=production
APP_NAME=StashHog
APP_VERSION=1.0.0
DEBUG=false
LOG_LEVEL=info

# API Configuration
API_HOST=127.0.0.1
API_PORT=8000
API_WORKERS=4
API_RELOAD=false

# Database Configuration
DATABASE_URL=sqlite:////data/stashhog.db
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=0
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Security
SECRET_KEY=${SECRET_KEY:-please-change-this-secret-key-in-production}
JWT_SECRET_KEY=${JWT_SECRET_KEY:-please-change-this-jwt-secret-key}
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24
CORS_ALLOWED_ORIGINS=
TRUSTED_HOSTS=*

# Stash Integration
STASH_URL=${STASH_URL:-http://localhost:9999}
STASH_API_KEY=${STASH_API_KEY}
STASH_VERIFY_SSL=true
STASH_TIMEOUT=30
STASH_MAX_RETRIES=3

# OpenAI Configuration
OPENAI_API_KEY=${OPENAI_API_KEY}
OPENAI_MODEL=gpt-4-vision-preview
OPENAI_MAX_TOKENS=300
OPENAI_TEMPERATURE=0.3
OPENAI_TIMEOUT=30

# File Storage
UPLOAD_DIR=/data/uploads
MAX_UPLOAD_SIZE=104857600  # 100MB
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,mp4,webm,avi,mov

# Job Queue Configuration
JOB_QUEUE_MAX_WORKERS=4
JOB_QUEUE_TIMEOUT=3600
JOB_RETRY_ATTEMPTS=3
JOB_RETRY_DELAY=60

# Scheduler Configuration
SCHEDULER_ENABLED=true
SCHEDULER_TIMEZONE=UTC
SCHEDULER_JOB_DEFAULTS_COALESCE=true
SCHEDULER_JOB_DEFAULTS_MAX_INSTANCES=3

# Cache Configuration
CACHE_TYPE=simple
CACHE_DEFAULT_TIMEOUT=300
CACHE_THRESHOLD=1000

# Frontend Configuration
VITE_API_URL=/api
VITE_WS_URL=/ws
VITE_APP_TITLE=StashHog
VITE_APP_VERSION=1.0.0

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090
ENABLE_HEALTH_CHECK=true
HEALTH_CHECK_PATH=/health

# Logging
LOG_FORMAT=json
LOG_FILE=/logs/stashhog.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=10
LOG_ROTATION=daily

# Performance
CONNECTION_POOL_SIZE=100
REQUEST_TIMEOUT=60
KEEPALIVE_TIMEOUT=65
GRACEFUL_TIMEOUT=30

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT=100/hour
RATE_LIMIT_STORAGE_URL=memory://

# Feature Flags
ENABLE_SCENE_ANALYSIS=true
ENABLE_PERFORMER_ANALYSIS=true
ENABLE_AUTO_TAG=true
ENABLE_WEBSOCKET=true
ENABLE_SCHEDULED_SYNC=true

# Data Retention
DATA_RETENTION_DAYS=90
LOG_RETENTION_DAYS=30
JOB_HISTORY_RETENTION_DAYS=7

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_PATH=/data/backups
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *  # 2 AM daily